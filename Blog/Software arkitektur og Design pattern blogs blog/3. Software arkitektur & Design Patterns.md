# **Jeg valgte Clean Architecture og modulær monolith

##  Mål for etapen

I denne fase handlede det om at vælge en retning for projektets arkitektur.  
Ikke som et stort akademisk valg, men som noget helt lavpraktisk:  
Hvordan skal vi strukturere projektet, så det både giver mening nu og ikke sætter begrænsninger senere?

Jeg havde allerede fået en fornemmelse af, at projektet ville vokse — både i forhold til domæner, brugerflows, AI og det hele generelt. Derfor skulle arkitekturen være et valg, jeg kunne arbejde videre på i mange uger uden at starte forfra hele tiden.
Gennemgå Clean architecture yderligere.

---

##  Hvad jeg lærte

Efter at have undersøgt forskellige arkitekturer — layered, clean, modulær monolith, microservices og hexagonal — begyndte jeg at forstå, at forskellen ikke kun handler om teknik, men om _hvordan_ systemet skal tænkes og udvikles dog med mulighed for at integrere flere forskellige arkitekturer uden det er et problem eller en hindring, men mere en styrke for arkitekturen

Clean Architecture blev hurtigt det, der gav mest mening for os. Ikke kun fordi det er “pænt” eller moderne, men fordi det har en meget klar regel, der løser flere af vores kommende problemer:  
afhængigheder må kun pege ind mod domænet.

Det betyder, at vi kan bygge et domæne, der står helt rent og kan udvikles og testes uden støj fra databaser, identity, AI eller UI.  
Og når projektet allerede nu har flere domæner (content, membership, reviews osv.), så giver det mening at domænet kan stå alene og håndtere sine domæneopgaver uden indblanding fra andre lag.

Samtidig gik det op for mig, at vi faktisk tænkte mere modulært end jeg først troede.  
Vi begyndte at se systemet som én samlet applikation — men med **klare interne moduler**, fx:

- content-modulet
- membership-modulet
- review-modulet
- AI-modulet

Derfor har jeg også fået øje for modulær monolith, som kunne være medvirkende til at give den adskillelse og modulære opdeling.
Sammenlagt betød det, at Clean Architecture kunne give lagdelingen, mens modulær monolith kunne give formen og strukturen.

[[2. Clean architecture og modulær monolith.]]

---

### Refleksion

Jeg overvejede stadig at starte projektet i en klassisk layered arkitektur, især fordi det er sådan man typisk starter små projekter.  
Men jeg kunne også se, at hvis vi alligevel skulle endte i Clean Architecture, så gav det ikke mening at begynde et andet sted og lave om igen senere.

Det interessante her var, at jeg begyndte at forstå forskellen på “lagdeling” og “systemform”.  
Clean Architecture er lagene og retningen.  
Modulær monolith er formen og måden at holde domænerne adskilt.

Og når der allerede var tegn på, at AI skulle køre i sin egen lille boble og helst isoleres fra domænet, så var det oplagt at bygge noget, som kunne håndtere det fra starten.

Jeg kunne også mærke, at Clean Architecture ville gøre det lettere for teamet at dele arbejdet op.  
Alle kan arbejde i hver sit modul, uden at alt lander i én stor muddy folder.  
Det var lige så meget et praktisk valg som et arkitektonisk valg.

[[2. Clean architecture og modulær monolith.]]

---

### Projekt specifikt

Clean Architecture bliver den struktur, vi bygger projektet op omkring.  
Vi deler lagene op i Domain, Application, Infrastructure og Web, og derfra holder vi os til de regler, Clean Architecture stiller op.

Samtidig tænker vi projektet som en modulær monolith, hvor domænerne er opdelt logisk, men systemet stadig deployes som én enhed.  
Det betyder, at vi kan begynde småt, men stadig holde mulighederne åbne for fremtiden, hvor modulerne måske bliver større eller mere adskilte.