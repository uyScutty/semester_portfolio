#  Factory og Strategy Patterns (og hvordan de passer ind i arkitekturen)

### _MÃ¥l for etapen_

At forstÃ¥ og afprÃ¸ve Factory Pattern og Strategy Pattern i smÃ¥ spikeprojekter â€” og se om de kunne bruges i projektet pÃ¥ en meningsfuld mÃ¥de.

---

## ğŸ“š _Hvad jeg lÃ¦rte denne uge_

[[Semester/Software arkitektur og design pattern projekters/Projekter/Factory pattern|Factory pattern]]
[[Semester/Software arkitektur og design pattern projekters/Projekter/Strategy pattern|Strategy pattern]]

Efter at have arbejdet med Domain Events, blev mit fokus rettet mod to andre patterns, som ofte gÃ¥r igen i stÃ¸rre systemer: Factory og Strategy.  
Jeg lavede smÃ¥ testprojekter for at forstÃ¥, hvad de hver isÃ¦r gÃ¸r, og hvordan de eventuelt kunne spille sammen med Clean Architecture og Vertical Slice.

Factory Pattern viste sig at vÃ¦re ret intuitivt:

- det adskiller oprettelsen af objekter
- det gÃ¸r konstruktionen fleksibel
- det gÃ¸r det nemt at udvide med nye typer senere

NÃ¥r jeg tÃ¦nkte pÃ¥ vores domÃ¦ne, kunne jeg se flere steder, hvor en Factory kunne give mening â€” isÃ¦r hvis vi senere fÃ¥r forskellige typer content eller forskellige mÃ¥der at bygge posts pÃ¥.  
Der er en ide om, at en Factory kan â€œsamleâ€ oprettelseslogikken Ã©t sted, sÃ¥ domÃ¦nemodellerne kan holdes rene.

Strategy Pattern gav et andet perspektiv og andre brugsscenarier:

- det handler mere om at udskifte adfÃ¦rd
- hver strategi har Ã©n version af en metode
- du kan vÃ¦lge strategi i runtime afhÃ¦ngigt af behov

Det var interessant, men jeg kunne hurtigt mÃ¦rke, at Strategy kun er nÃ¸dvendigt, hvis domÃ¦net bliver komplekst nok til at krÃ¦ve mange varianter af samme handling.  
Lige nu er projektet ikke helt dÃ©r endnu, men det var stadig lÃ¦rerigt at se, hvordan man kan adskille logik og gÃ¸re den mere fleksibel.

---

## ğŸ’¡ _Refleksion_

Det vigtigste for mig i denne fase var ikke at â€œvÃ¦lgeâ€ det rigtige pattern â€” men at lÃ¦re nok til at kunne tage stilling.  
Factory og Strategy er begge gode patterns, men de opfylder forskellige behov:

- **Factory** hjÃ¦lper med oprettelse
- **Strategy** hjÃ¦lper med variation i adfÃ¦rd

I konteksten af vores Clean Architecture kunne jeg se, at:

- Factory passer bedst i Domain eller Application, hvor objekter oprettes
- Strategy kan vÃ¦re relevant, hvis vi fÃ¥r flere alternative mÃ¥der at validere, moderere eller generere content pÃ¥

Begge patterns passer ind i den modulÃ¦re monolith og kan bruges uden at bryde Clean Architectureâ€™s afhÃ¦ngighedsregler.

Men jeg besluttede ogsÃ¥, at Strategy ikke skal tages i brug â€œbare fordi det findesâ€.  
Det skal give mening i forhold til domÃ¦nets kompleksitet og den konkrete use case.

---

## ğŸ’¡ _Projekt specifikt_

PÃ¥ dette tidspunkt havde jeg:

- Clean Architecture pÃ¥ plads
- CQRS til use cases
- Domain Events integreret

Factory pattern kan jeg se potentiale i til oprettelse af forskellige indholdstyper,  
men det er ikke et must fra start.

Strategy pattern er noget, der kan komme i spil senere,  
fx hvis vi fÃ¥r:

- forskellige moderation-strategier
- forskellige content-regler
- alternative beregninger
- eller forskellige AI-svar-logikker

Men indtil videre holder jeg det Ã¥bent.
