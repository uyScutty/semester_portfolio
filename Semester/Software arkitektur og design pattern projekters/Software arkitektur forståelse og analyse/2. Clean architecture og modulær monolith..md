# Fra Layered Architecture og hvorfor det naturligt førte til Modulær Monolith, samt Clean Architecture**

## **1) Udgangspunktet – Layered Architecture Var første indskydelse

I begyndelsen var projektet lille og vi havde et godt kendskab til denne arkitektur fra tidligere semestre:

- brugere
- simple blogposts
- et lille dashboard

Her var Layered Architecture et godt valg:

- det var hurtigt at bygge
- UI → Business → Data var simpelt og overskueligt.
- kompleksiteten var lav
- domænet var simpelt
Det gav os mulighed for at komme i gang uden at overdesigne.

## **2)Layered kunne ikke dække behovene

Nye domæneområder begyndte at dukke op, samt regler og kompleksitet og behov for moduler blev mere tydeligt:

- Content
- Membership
- Notifications
- AI-modulet
- flere regler og interaktioner mellem domæner

### **Problemer:**

- Business-laget blev stort og sammenblandet
- Domæne- og teknologilogik blev blandet
- Ingen naturlig måde at adskille domæner internt
- Ingen isolation af AI
- Ingen beskyttelse af domænet


## **3) AI-modulets integration**

AI-delen var den direkte faktor der viste, at layered architecture ikke længere var det rigtige for projektet:

AI krævede bla.:

- isolation fra domænet
- mulighed for at køre i egen service/container   
- ingen direkte adgang til database
- fleksibilitet til at blive udskiftet eller ændret


## **4) Derfor blev Modulær Monolith det naturlige næste skridt**

I stedet for at hoppe direkte til microservices, som ville være "overkill", så var den bedste løsning:

 **Modulær Monolith**

En modulær monolith gør det muligt at:

- adskille domæner fra hinanden
- holde funktioner i egne moduler
- isolere AI som eget modul
- beholde ét samlet kodebase og ét deployment
- undgå kompleksiteten i microservices

Det gav den balance mellem struktur og simplicitet projektet havde brug for.

---

## **5) Modulær Monolith hører også fint sammen med Clean Architecture**

Da projektet nu blev opdelt i interne moduler, opstod behovet for:

- rene domæner
- klare grænser mellem logik og teknologi
- én vej for afhængigheded
- beskyttelse af domænet
- testbarhed
- mulighed for at udskifte database, AI eller UI uden at påvirke domænet
    

### **Hvorfor Clean Architecture?**

- Domænet skal være rent og stabilt
- Teknologier skal ligge i Infrastructure
- Use cases skal ligge i Application
- UI må kun kalde Application
- Infrastructure skal være “plugins”

Clean Architecture gav struktur til den modulære monolith.