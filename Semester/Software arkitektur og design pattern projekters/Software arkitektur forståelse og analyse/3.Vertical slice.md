#  **Analyse: Hvorfor Vertical Slice Architecture blev et supplement til Clean Architecture**

Efter vi havde valgt Clean Architecture** som den overordnede lagdeling (Domain, Application, Infrastructure, UI), stod vi overfor et nyt praktisk spørgsmål:

Hvordan organiserer vi de mange use cases og UI-flows, så de ikke ender i store services, spredt logik og uoverskuelige mapper?

Clean Architecture giver de rigtige LAG.  
Men den beskriver ikke, hvordan dine _features_ skal organiseres.

Det var her Vertical Slice Architecture blev svaret.



# 1) Hvorfor Vertical Slice var nødvendigt oven på Clean Architecture

Selvom Clean Architecture gav klar lagdeling, gav det stadig ikke en løsning på:

- hvordan du organiserer _Create_, _Edit_, _Delete_, _Moderate_, _ActivateMembership_ osv.
- hvordan du strukturerer UI i Blazor
- hvordan du undgår store “ContentService” og “MembershipService”
- hvordan du holder feature-logik samlet ét sted

Dette krav om mange forskellige brugerhandlinger gjorde, at Clean Architecture IKKE var nok alene.

Vi havde brug for:

- høj cohesion
- lav coupling
- adskilte use cases
- små, fokuserede mapper
- en approach der nemt kunne bruges af vores team

Det er præcis det Vertical Slice Architecture leverer.



# 2) Hvad Vertical Slice Architecture er – og hvorfor det passer til projektet

Vertical Slice betyder:

> **En feature = én samlet pakke af alt der skal bruges til den funktion.**

Så fx “CreateContent” består af:

- Razor-page
- ViewModel / FormModel
- Command
- Handler
- Validation
- Repository-kald
- Domain events
- Response/DTO
- UI-kode

Alt samlet i én mappe:



### 3)Vertical Slice og Clean Architecture arbejder sammen

Flowet er:

**UI → Feature Folder → Command/Query → Handler → Domain → Infrastructure**

Vertikal opdeling (Vertical Slice) fungerer indenfor lagene i Clean Architecture.

Clean Architecture definerer _lagene_.

 Vertical Slice definerer _hvordan du organiserer logikken inden i lagene_.

Det er derfor de to passer perfekt sammen.


# 4) Hvad Vertical Slice giver vores projekt i praksis

###  Overblik

Hver feature findes ét sted.

### Ingen mudret services

Alt ligger i små, fokuserede use cases.

###  Let UI-udvikling

Blazor-udvikling bliver markant hurtigere.

###  Let at teste

Handler + Domain kan testes isoleret.

###  Passer til modulær monolith

Hver modul kan have egne slices.

###  Vejen banes for DDD

Aggregates og domain events passer perfekt ind i slices.

---

#  Samlet konklusion

Vertical Slice Architecture blev valgt, fordi Clean Architecture alene ikke giver en brugbar struktur for mange UI-flows og use cases.

Sammen gør de to ting:

- Clean Architecture giver lag, isolation og rene regler
- Vertical Slice giver feature-opdeling, overskuelighed og hastighed i udviklingen
Vertical Slice er derfor en naturlig tilføjelse** ovenpå Clean Architecture i projektet

Det er denne kombination, der gør systemet både let at vedligeholde og robust nok til at rumme mange forskellige domæner, AI-flows og fremtidig udvidelse.